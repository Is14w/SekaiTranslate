/* App.css */
.app-container {
  display: flex;
  flex-direction: column;
  height: 100vh;
  background-color: #1e1e1e;
  color: #e0e0e0;
  overflow: hidden; /* 防止溢出造成不必要的滚动 */
}

.main-content {
  display: flex;
  flex: 1;
  overflow: hidden;
  position: relative;  /* 为移动端Sidebar定位添加 */
}

.content-area {
  flex: 1;
  padding: 20px;
  overflow-y: auto;
  transition: margin-left 0.3s ease;
}

.content-area.sidebar-collapsed {
  margin-left: 0;
}

.loading,
.error-message {
  display: flex;
  height: 100%;
  justify-content: center;
  align-items: center;
  font-size: 16px;
}

.loading {
  color: #888;
}

.error-message {
  color: #e74c3c;
  text-align: center;
  max-width: 600px;
  margin: 0 auto;
}

/* Mobile Styles */
@media (max-width: 767px) {
  .app-container.mobile-view .sidebar {
    position: fixed;
    top: 45px; /* 与顶部栏高度匹配 */
    left: 0;
    width: 80% !important; /* 覆盖 Framer Motion 的内联样式 */
    max-width: 300px;
    height: calc(100vh - 45px);
    z-index: 1000;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
    transform: translateX(0) !important;
    opacity: 1;
    will-change: transform; /* 提高动画性能 */
    backface-visibility: hidden; /* 提高渲染性能 */
  }
  
  .app-container.mobile-view .sidebar.collapsed {
    transform: translateX(-100%) !important;
  }
  
  .content-area {
    padding: 15px;
    width: 100%;
  }
  
  .loading, .error-message {
    font-size: 14px;
  }
  
  /* 创建一个空间，以避免侧边栏展开时内容被挤压 */
  .app-container.mobile-view .main-content {
    position: relative;
  }
  
  /* 防止内容区域因为侧边栏的展开/收起而抖动 */
  .app-container.mobile-view .content-area {
    margin-left: 0 !important;
    padding: 12px;
    width: 100%;
    transition: none; /* 移除过渡效果减少卡顿 */
  }
  
  /* 优化触发动画的性能 */
  .app-container * {
    /* 减少不必要的重新计算和重绘 */
    will-change: transform;
    backface-visibility: hidden;
  }
}

/* 提高滚动性能 */
.content-area {
  -webkit-overflow-scrolling: touch; /* 在iOS上启用惯性滚动 */
  scroll-behavior: smooth;
}